{% load widget_tweaks %}
{% load filters %}
<div class="card d-flex flex-row flex-nowrap mb-3">
  <div class="card-header border-bottom-0 position-relative px-3">
    <div class="ruleset-grip stretched-link" style="cursor: move;">
      <span class="fas fa-grip-vertical fa-lg text-default" aria-hidden="true"></span>
      <span class="sr-only">Move rule</span>
    </div>
  </div>

  <div class="card-block">

    <div class="row">
      <div class="col-lg-3 col-xl-2 form-group rule-group-condition">
        <label class="form-control-label" for="{{ rule.conditional.id_for_label }}">
          Condition
        </label>
        {{ rule.conditional|add_class:"form-control" }}
      </div>
      <div class="col">
        <div class="form-group">
          <label class="form-control-label" for="{{ rule.field.id_for_label }}">
            Filter recipients by...
          </label>
          {{ rule.field|add_class:"form-control rule-control-field" }}
        </div>

        <div class="row">
          <div class="col mb-0 form-group rule-group-key"></div>
          <div class="col mb-0 form-group rule-group-value"></div>
        </div>
      </div>
    </div>

    {{ rule.DELETE }}
    {{ rule.key|attr:"type:hidden" }}
    {{ rule.value|attr:"type:hidden" }}
    {% for field in rule %}
      {% if field.is_hidden %}
        {{ field }}
      {% endif %}
    {% endfor %}

  </div>

  <div class="card-footer border-top-0 px-2">
    <div class="ruleset-remove-container"></div>
  </div>
</div>
